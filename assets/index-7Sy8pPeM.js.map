{"version":3,"file":"index-7Sy8pPeM.js","sources":["../../src/home.ts"],"sourcesContent":["// Defining types for DOM elements\ntype HTMLElementOrNull = HTMLElement | null;\ntype HTMLInputElementOrNull = HTMLInputElement | null;\ntype HTMLFormElementOrNull = HTMLFormElement | null;\n\n// Interface for DOM elements\ninterface DOMElements {\n  signup: HTMLElementOrNull;\n  modal: HTMLElementOrNull;\n  form: HTMLFormElementOrNull;\n  emailInput: HTMLInputElementOrNull;\n  error: HTMLElementOrNull;\n  userEmail: HTMLElementOrNull;\n  dismissBtn: HTMLElementOrNull;\n}\n\n// Function for etting DOM elements\nfunction getDOMElements(): DOMElements {\n  return {\n    signup: document.querySelector<HTMLDivElement>(\".signup\"),\n    modal: document.querySelector<HTMLDivElement>(\"#modal\"),\n    form: document.querySelector<HTMLFormElement>(\"#form\"),\n    emailInput: document.querySelector<HTMLInputElement>(\"#email\"),\n    error: document.querySelector<HTMLSpanElement>(\"#error\"),\n    userEmail: document.querySelector<HTMLSpanElement>(\"#userEmail\"),\n    dismissBtn: document.querySelector<HTMLButtonElement>(\"#dismiss\"),\n  };\n}\n\n// Regex for email validation\nconst EMAIL_REGEX = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n// Function to validate the email\nfunction isValidEmail(email: string): boolean {\n  return EMAIL_REGEX.test(email);\n}\n\n// Function for managing form submission\nfunction handleSubmit(e: Event, elements: DOMElements): void {\n  e.preventDefault();\n  const { emailInput, error, signup, modal, userEmail } = elements;\n\n  if (emailInput) {\n    if (!isValidEmail(emailInput.value)) {\n      showError(emailInput, error);\n    } else {\n      hideError(emailInput, error);\n      toggleVisibility(signup, modal);\n      updateUserEmail(userEmail, emailInput);\n    }\n  }\n}\n\n// Function to manage message rejection\nfunction handleDismiss(e: Event, elements: DOMElements): void {\n  e.preventDefault();\n  const { signup, modal, emailInput } = elements;\n  toggleVisibility(signup, modal);\n  if (emailInput) emailInput.value = \"\";\n}\n\n// Utility functions\nfunction showError(\n  input: HTMLInputElementOrNull,\n  errorElement: HTMLElementOrNull\n): void {\n  if (input) {\n    input.classList.add(\"signup__body__form__email__input-error\");\n    if (errorElement) {\n      errorElement.classList.remove(\"hidden\");\n      errorElement.textContent = \"Valid email required\";\n    }\n  }\n}\n\nfunction hideError(\n  input: HTMLInputElementOrNull,\n  errorElement: HTMLElementOrNull\n): void {\n  if (input) {\n    input.classList.remove(\"signup__body__form__email__input-error\");\n    if (errorElement) errorElement.classList.add(\"hidden\");\n  }\n}\n\nfunction toggleVisibility(...elements: HTMLElementOrNull[]): void {\n  elements.forEach((el) => el?.classList.toggle(\"hidden\"));\n}\n\nfunction updateUserEmail(\n  userEmailElement: HTMLElementOrNull,\n  inputElement: HTMLInputElementOrNull\n): void {\n  if (userEmailElement && inputElement) {\n    userEmailElement.textContent = inputElement.value;\n  }\n}\n\n// Initialisation\nfunction init(): void {\n  const elements = getDOMElements();\n\n  if (elements.form) {\n    elements.form.addEventListener(\"submit\", (e) => handleSubmit(e, elements));\n  }\n\n  if (elements.dismissBtn) {\n    elements.dismissBtn.addEventListener(\"click\", (e) =>\n      handleDismiss(e, elements)\n    );\n  }\n}\n\n// Start initialisation\ninit();\n"],"names":["getDOMElements","EMAIL_REGEX","isValidEmail","email","handleSubmit","e","elements","emailInput","error","signup","modal","userEmail","hideError","toggleVisibility","updateUserEmail","showError","handleDismiss","input","errorElement","el","userEmailElement","inputElement","init"],"mappings":"ssBAiBA,SAASA,GAA8B,CAC9B,MAAA,CACL,OAAQ,SAAS,cAA8B,SAAS,EACxD,MAAO,SAAS,cAA8B,QAAQ,EACtD,KAAM,SAAS,cAA+B,OAAO,EACrD,WAAY,SAAS,cAAgC,QAAQ,EAC7D,MAAO,SAAS,cAA+B,QAAQ,EACvD,UAAW,SAAS,cAA+B,YAAY,EAC/D,WAAY,SAAS,cAAiC,UAAU,CAAA,CAEpE,CAGA,MAAMC,EAAc,6BAGpB,SAASC,EAAaC,EAAwB,CACrC,OAAAF,EAAY,KAAKE,CAAK,CAC/B,CAGA,SAASC,EAAaC,EAAUC,EAA6B,CAC3DD,EAAE,eAAe,EACjB,KAAM,CAAE,WAAAE,EAAY,MAAAC,EAAO,OAAAC,EAAQ,MAAAC,EAAO,UAAAC,CAAc,EAAAL,EAEpDC,IACGL,EAAaK,EAAW,KAAK,GAGhCK,EAAUL,EAAYC,CAAK,EAC3BK,EAAiBJ,EAAQC,CAAK,EAC9BI,EAAgBH,EAAWJ,CAAU,GAJrCQ,EAAUR,EAAYC,CAAK,EAOjC,CAGA,SAASQ,EAAcX,EAAUC,EAA6B,CAC5DD,EAAE,eAAe,EACjB,KAAM,CAAE,OAAAI,EAAQ,MAAAC,EAAO,WAAAH,CAAA,EAAeD,EACtCO,EAAiBJ,EAAQC,CAAK,EAC1BH,MAAuB,MAAQ,GACrC,CAGA,SAASQ,EACPE,EACAC,EACM,CACFD,IACIA,EAAA,UAAU,IAAI,wCAAwC,EACxDC,IACWA,EAAA,UAAU,OAAO,QAAQ,EACtCA,EAAa,YAAc,wBAGjC,CAEA,SAASN,EACPK,EACAC,EACM,CACFD,IACIA,EAAA,UAAU,OAAO,wCAAwC,EAC3DC,GAAcA,EAAa,UAAU,IAAI,QAAQ,EAEzD,CAEA,SAASL,KAAoBP,EAAqC,CAChEA,EAAS,QAASa,GAAOA,GAAA,YAAAA,EAAI,UAAU,OAAO,SAAS,CACzD,CAEA,SAASL,EACPM,EACAC,EACM,CACFD,GAAoBC,IACtBD,EAAiB,YAAcC,EAAa,MAEhD,CAGA,SAASC,GAAa,CACpB,MAAMhB,EAAWN,IAEbM,EAAS,MACFA,EAAA,KAAK,iBAAiB,SAAW,GAAMF,EAAa,EAAGE,CAAQ,CAAC,EAGvEA,EAAS,YACXA,EAAS,WAAW,iBAAiB,QAAU,GAC7CU,EAAc,EAAGV,CAAQ,CAAA,CAG/B,CAGAgB,EAAK"}